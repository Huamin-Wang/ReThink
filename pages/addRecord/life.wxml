<view class="status-bar"
      style="height: 100px; background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%); display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(67,233,123,0.15); border-radius: 0 0 18px 18px;">
    <text style="color: #fff; font-size: 20px; font-weight: bold; letter-spacing: 1px; text-shadow: 0 1px 4px rgba(0,0,0,0.08);margin-top: 40px">
        一句话记录账单
    </text>
</view>
<!-- 页面主内容 -->
<view class="main-content" bindtap="closeAll">

  <!-- 分类汇总卡片 -->
  <view class="card">
    <view class="title">分类汇总</view>
    <view class="summary-bar">
      <block wx:for="{{categorySums}}" wx:key="_id">
        <view class="summary-item">
          <text class="category">{{item._id}}</text>
          <text class="amount">¥{{item.sum}}</text>
        </view>
      </block>
    </view>
  </view>

  <!-- 输入卡片 -->
  <view class="card">
    <view class="title">一句话记录生活花销</view>
    <view class="sub-title">如：超市购物花了68元，吃饭花了200</view>
    <view class="input-box">
      <input name="desc" type="text" confirm-type="done"
             placeholder="请输入描述"
             bindinput="onDescInput" value="{{desc}}"
             bindconfirm="submitLifeRecord"
             class="amount-input"/>
    </view>
    <button class="submit-button" bindtap="submitLifeRecord">提交</button>
  </view>

  <!-- 消费明细列表 -->
  <view class="card">
    <view class="title">消费明细</view>
<block wx:for="{{records}}" wx:key="_id">
  <movable-area class="record-area">
    <movable-view
      class="record-movable"
      direction="horizontal"
      out-of-bounds="true"
      damping="50"
      x="{{item.x || 0}}"
      data-id="{{item._id}}"
      bindchange="onMoveChange"
      bindtouchend="onTouchEnd"
    >
      <!-- 主体内容 + 删除按钮一起放 -->
      <view class="record-wrapper">
        <view class="record-card">
          <view class="record-main">
            <view class="desc">{{item.description}}</view>
            <view class="amount">¥{{item.amount}}</view>
          </view>
          <view class="record-meta">
            <text class="category-tag">{{item.category}}</text>
            <text class="time">{{item.date || ''}}</text>
          </view>
        </view>

        <!-- 删除按钮 -->
       <view class="delete-btn" catchtap="onDelete" data-id="{{item._id}}">
  删除
</view>

      </view>
    </movable-view>
  </movable-area>
</block>


  </view>
</view>
