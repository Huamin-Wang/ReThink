<view class="container">

  <!-- 顶部：长期目标 -->
  <view class="goal-card">
    <text class="goal-title">{{mainGoal.title}}</text>
    <text class="goal-deadline">截止：{{mainGoal.deadline}} | 剩余 {{mainGoal.remainingDays}} 天</text>
  </view>

  <!-- 里程碑进度 -->
  <view class="milestone-section">
    <text class="section-title">里程碑进度</text>
    <block wx:for="{{milestones}}" wx:key="index">
      <view class="milestone-item">
        <text class="milestone-title">{{item.title}}</text>
        <progress percent="{{item.progress}}" activeColor="#4CAF50" />
      </view>
    </block>
  </view>

  <!-- 今日任务 -->
  <view class="task-section">
    <text class="section-title">今日任务</text>
    <block wx:for="{{tasks}}" wx:key="index">
      <view class="task-item">
        <checkbox checked="{{item.status === 'done'}}" bindtap="toggleTask" data-index="{{index}}" />
        <text class="task-title {{item.status === 'done' ? 'done' : ''}}">{{item.title}}</text>
        <text class="task-time">{{item.estimateMin}} 分钟</text>
      </view>
    </block>
  </view>

  <!-- 悬浮按钮 -->
  <button class="fab" bindtap="addRecord">＋</button>

</view>
